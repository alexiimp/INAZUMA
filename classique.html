<head>
    <meta charset='utf-8'>
    <title>Inazumadle - Classique</title>
    <link rel='stylesheet' type='text/css' href='style/style.css'>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Reggae+One&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <p id="joueurdujour"></p>
    <script src="fonctions.js"></script>
    <a href="accueil.html" class="logo"><img src="images/logos/logo.png" alt="titre" style="width: 100%"></a>
    <div class="listeMode" style="width: 30%;margin-bottom: 5%;margin-top:3% ">
        <a href="classique.html" class="logoMode"><img src="images/logos/ecusson.png" alt="classique" style="width: 100%"></a>
        <a href="description.html" class="logoMode"><img src="images/logos/pages.png" alt="description" style="width: 100%"></a>
        <a href="techniques.html" class="logoMode"><img src="images/logos/balle.png" alt="Technique" style="width: 100%"></a>
    </div>
    <div id="entete" class="mainDiv">
        <h3>Devinez le personnage d'inazuma d'aujourd'hui !</h3>
        <div id="indices">
            <div class="indice" id="indiceApparition">
                <div class="cache">
                    <img src="images/logos/tv.png" alt="tv" class="logoIndice">
                    <p>Indice de première apparition dans X essais</p>
                </div>
                <div class="revele">
                    <p></p>
                </div>

            </div>
            <div class="indice" id="indiceDescription">
                <div class="cache">
                    <img src="images/logos/livre.png" alt="livre" class="logoIndice">
                    <p>Indice de description dans X essais</p>
                </div>
                <div class="revele">
                    <p></p>
                </div>
            </div>
        </div>
        <p id="instructions">Veuillez choisir n'importe quel personnage pour commencer.</p>
        <p id="donnees">Les données vont jusqu'à la saison 3 et comprennent Inazuma Eleven : le Film.</p>
    </div>
    <div id="racine">
        <div id='formulaire' class="mainDiv">
            <label for="guess"></label>
            <input type='text' name='guess' id='guess' placeholder='Nom de personnage, alias'
                   onkeyup='afficherPersos()' autofocus>
            <div id="divFleche" onclick='afficheComparaison(document.getElementById("guess").value)'>
                <img src="images/logos/fleche.png" id="fleche" alt="envoie" >
            </div>
        </div>
    </div>
    <script>
        let text = document.getElementById('guess')
        text.addEventListener('keydown',reaction)
        function reaction(e){
            if (e.code==="ArrowDown" || e.code==="ArrowUp"){
                e.preventDefault();
            }
            if (e.code==="Enter"){
                let selected  = document.getElementsByClassName('selected')[0]
                if (selected){
                    afficheComparaison(selected.id)
                }
            }
        }

    </script>
    <div style="overflow-x: auto;">
    <table id="comp">
        <tr>
            <th>Perso</th>
            <th>Genre</th>
            <th>Equipes</th>
            <th>Poste</th>
            <th>Element</th>
            <th>Origine</th>
            <th>Classe</th>
            <th>Apparition</th>
        </tr>
    </table>
    </div>


    <script>
        let body = document.getElementsByTagName('body')[0];
        body.addEventListener("keyup",parcourir);

        function parcourir(e){
            let table = document.getElementById('table_carte');
            if (table && table.rows.length>=2 ){
                let index;
                let td = document.getElementsByClassName('selected')[0];
                if (e.code==="ArrowDown" || e.code==="ArrowUp"){
                    if (e.code==="ArrowDown"){
                        index = (td.parentElement.rowIndex+1)%table.rows.length

                    }
                    else{
                        index = td.parentElement.rowIndex-1
                        if (index<0){
                            index = table.rows.length+index
                        }

                    }
                    let newSelected = table.rows[index % table.rows.length].children[0]
                    td.classList.remove('selected')
                    newSelected.classList.add('selected')
                }

            }

        }
    </script>
    <div id="victoire" class="mainDiv">
        <h3>Bien Joué !!</h3>
        <div id="winPerso">
            <img src="images/personnages/inconnu.jpg" alt="photo du perso" id="photoVictoire">
            <div id="divInfo">
                <p>Tu as trouvé</p>
                <h3 id="NomPerso"></h3>
                <p id="NbEssais">Nombre d'essais : X</p>
            </div>
        </div>
        <div id="modeSuivant">
            <h4>Mode suivant :</h4>
            <a href="description.html">
                <div class="mode prochainMode">
                    <img src="images/logos/pages.png" alt="logo" class="logo">
                    <div class="nomcontain">
                        <h5>Description</h5>
                        <p class="surnom">Trouve le personnage à partir de sa description</p>
                    </div>
                </div>
            </a>
        </div>
        <div>
            <div class="listeMode">
                <a href="classique.html" class="logoMode"><img src="images/logos/ecusson.png" alt="classique" style="width: 100%"></a>
                <a href="description.html" class="logoMode"><img src="images/logos/pages.png" alt="description" style="width: 100%"></a>
                <a href="techniques.html" class="logoMode"><img src="images/logos/balle.png" alt="Technique" style="width: 100%"></a>
            </div>
        </div>
    </div>
</body>