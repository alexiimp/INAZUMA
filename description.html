<head>
    <meta charset='utf-8'>
    <title>Inazumadle - Description</title>
    <link rel='stylesheet' type='text/css' href='style/style.css'>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <p id="joueurdujour"></p>
    <script src="fonctions.js"></script>
    <img src="images/logos/logo.png" alt="titre" class="logo">
    <div id="accueil" class="mainDiv">
        <h3>Devinez à quel personnages appartient cette description !</h3>
        <p id="description"></p>
        <div id="indices">
            <div class="indice" id="indiceElement">
                <div class="cache">
                    <img src="images/logos/elements.png" alt="éléments" class="logoIndice">
                    <p>Indice de l'élément dans X essais</p>
                </div>
                <div class="revele">
                    <p></p>
                </div>
            </div>
            <div class="indice" id="indicePoste">
                <div class="cache">
                    <img src="images/logos/position.png" alt="poste" class="logoIndice">
                    <p>Indice de poste dans X essais</p>
                </div>
                <div class="revele">
                    <p></p>
                </div>

            </div>
        </div>
    </div>
    <div id="racine">
        <div id='formulaire' class="mainDiv">
            <label for="guess"></label>
            <input type='text' name='guess' id='guess' placeholder='Nom de personnage, alias'
                   onkeyup='afficherPersos()'>
            <div id="divFleche" onclick='afficheComparaison(document.getElementById("guess").value)'>
                <img src="images/logos/fleche.png" id="fleche" alt="envoie" >
            </div>
        </div>
    </div>
    <script>
        let text = document.getElementById('guess')
        text.addEventListener('keydown',reaction)
        function reaction(e){
            if (e.code==="ArrowDown" || e.code==="ArrowUp"){
                e.preventDefault();
            }
            if (e.code==="Enter"){
                let selected  = document.getElementsByClassName('selected')[0]
                if (selected){
                    afficheComparaison(selected.id)
                }
            }
        }

    </script>
    <div style="overflow-x: auto;">
    <table id="comp"></table>
    </div>


    <script>
        let body = document.getElementsByTagName('body')[0];
        body.addEventListener("keyup",parcourir);

        function parcourir(e){
            let table = document.getElementById('table_carte');
            if (table && table.rows.length>=2 ){
                let index;
                let td = document.getElementsByClassName('selected')[0];
                if (e.code==="ArrowDown" || e.code==="ArrowUp"){
                    if (e.code==="ArrowDown"){
                        index = (td.parentElement.rowIndex+1)%table.rows.length

                    }
                    else{
                        index = td.parentElement.rowIndex-1
                        if (index<0){
                            index = table.rows.length+index
                        }

                    }
                    let newSelected = table.rows[index % table.rows.length].children[0]
                    td.classList.remove('selected')
                    newSelected.classList.add('selected')
                }

            }

        }
    </script>
    <div id="victoire" class="mainDiv">
        <h3>Bien Joué !!</h3>
        <div id="winPerso">
            <img src="images/personnages/inconnu.jpg" alt="photo du perso" id="photoVictoire">
            <div id="divInfo">
                <p>Tu as trouvé</p>
                <h3 id="NomPerso"></h3>
                <p id="NbEssais">Nombre d'essais : </p>
            </div>
        </div>
        <div id="modeSuivant">
            <h4>Mode suivant :</h4>
            <div id="prochainMode">
                <img src="images/logos/pages.png" alt="logo" class="logo">
                <div class="nomcontain">
                    <h5>Description</h5>
                    <p class="surnom">Trouve le personnage à partir de sa description</p>
                </div>
            </div>
        </div>
        <div>
            <div id="listeMode">
                <img src="images/logos/ecusson.png" alt="classique" class="mode">
                <img src="images/logos/balle.png" alt="Technique" class="mode">
                <img src="images/logos/pages.png" alt="description" class="mode">
            </div>
        </div>
    </div>
</body>